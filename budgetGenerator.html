<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <style>
        .row {
            margin-bottom: 10px;
        }

        .btn {
            margin-top: 10px;
        }

        h3 {
            margin-bottom: 1rem;
        }

        .form-group-input {
            width: 300px;
            min-width: 300px;
            max-width: 300px;
            margin-bottom: 2rem;
        }

        .top {
            padding-top: 4rem;
        }
    </style>
</head>

<body>
    <div class="">
        <div class="container">
            <h1>Budget travel generator</h1>
            <form>
                <div class="row">

                    <div class="col">
                        <input list="cities" type="text" id="city" class="form-control" placeholder="City"
                            aria-label="First name">
                        <datalist id="cities">
                        </datalist>
                        <button id="generateCity" type="submit" class=" btn btn-primary">Generate</button>
                    </div>
                    <div class="col">
                        <input type="text" id="country" class="form-control" placeholder="Country" aria-label="Country">
                    </div>
                    <div class="col">
                        <input type="text" id="currency" class="form-control" placeholder="Currency"
                            aria-label="Currency">
                    </div>
                    <div class="col">
                        <input id="currencyKey" type="text" class="form-control" placeholder="Currency key"
                            aria-label="Currency Key">
                    </div>
                    <div class="col">
                        <input id="currencySign" type="text" class="form-control" placeholder="Currency sign"
                            aria-label="Currency Sign">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="exampleFormControlTextarea1" class="form-label">Population</label>
                        <input id="population" type="text" class="form-control" placeholder="Last name"
                            aria-label="Currency Sign">
                    </div>
                    <div class="col">
                        <label for="exampleFormControlTextarea1" class="form-label">Arports</label>
                        <input id="airports" type="text" class="form-control" placeholder="Last name"
                            aria-label="Currency Sign">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="languages">Languagues</label>
                        <input id="languagues" type="text" class="form-control" placeholder="Languagues"
                            aria-label="Currency Key">
                    </div>
                    <div class="col">
                        <label for="timezone">timezone</label>
                        <input id="timezone" type="text" class="form-control" placeholder="Time zone"
                            aria-label="Currency Key">
                    </div>
                    <div class="col">
                        <label for="continent">Continent</label>
                        <input id="continent" type="text" class="form-control" placeholder="Continent"
                            aria-label="Currency Key">
                    </div>
                    <div class="col">
                        <label for="tourist">Tourist number</label>
                        <input id="tourist" type="text" class="form-control" placeholder="Turist number"
                            aria-label="Currency Key">
                    </div>
                    <div class="col">
                        <label for="tourist">High season</label>
                        <input id="highSeason" type="text" class="form-control" placeholder="Turist number"
                            aria-label="Currency Key">
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3">
                        <label for="exampleFormControlTextarea1" class="form-label">General description on the
                            city</label>
                        <div class="form-control" id="generalDescription" rows="3">
                            <p>¿Quién no quiere visitar ___? Sin duda uno de los lugares preferidos para viajeros de
                                todo tipo</p>
                            <p>____. Entre sus características principales está____</p>
                            <p>Si bien/aunque/pese a que ___ puede ser una ciudad/destino costoso para muchos bolsillos
                                / presupuestos, en realidad / la verdad puede ser más económica de lo que muchos
                                imaginarían, en especial si se viaja de forma correcta </p>
                            <p>A continuación encontratás una lista detallada de precios para un viaje a ___</p>
                        </div>
                    </div>
                </div>
                <div class="top"></div>
                <div class="row">
                    <div class="mb-3">
                        <label for="exampleFormControlTextarea1" class="form-label">Why you should visit (100 - 150
                            words)</label>
                        <textarea class="form-control" id="reasonsToVisit"
                            rows="3">___ ofrece gran cantidad de atractivos tanto para </textarea>
                    </div>
                </div>
                <h4>Wheather</h4>
                <div class="row">
                    <div class="mb-3">
                        <label for="">Wheather (how and when) 100 words <a
                                href="https://weather-and-climate.com/average-monthly-Rainfall-Temperature-Sunshine,Amsterdam,Netherlands"
                                target="_blank">Ref 🌐</a></label>
                        <div id="weather">

                        </div>
                    </div>
                    <div class="top"></div>
                </div>
                <div class="row">
                    <div class="mb-3">
                        <label for="">Weather tips</label>
                        <textarea class="form-control" id="weatherTips" rows="3"> </textarea>
                    </div>
                </div>

                <h3>Prices</h3>
                <h4>General prices</h4>
                <div class="row">
                    <div class="col">
                        <label for="generalDaily">General daily price by person</label>
                        <input id="generalMain" type="text" class="form-control"
                            placeholder="General daily main price by person" aria-label="General daily main price">
                    </div>
                    <div class="col">
                        <label for="generalDaily">Weekly</label>
                        <input id="generalMainWeek" type="text" class="form-control"
                            placeholder="General week price by person" aria-label="General daily main price">
                    </div>
                </div>
                <h4>Budget</h4>
                <div class="row">
                    <div class="col">
                        <label for="budgetMain">General daily price by person</label>
                        <input id="budgetMain" type="text" class="form-control"
                            placeholder="Budget daily main price by person" aria-label="General daily main price">
                    </div>
                    <div class="col">
                        <label for="BudgetMainWeek">Weekly</label>
                        <input id="budgetMainWeek" type="text" class="form-control"
                            placeholder="Budget week price by person" aria-label="General daily main price">
                    </div>
                </div>
                <h4>Expensive</h4>
                <div class="row">
                    <div class="col">
                        <label for="expensivelDaily">General daily price by person</label>
                        <input id="luxuryMain" type="text" class="form-control"
                            placeholder="Expensive daily main price by person" aria-label="General daily main price">
                    </div>
                    <div class="col">
                        <label for="expensiveDaily">Weekly</label>
                        <input id="luxuryMainWeek" type="text" class="form-control"
                            placeholder="Expensive week price by person" aria-label="General daily main price">
                    </div>
                </div>

                <div class="row">
                    <div class="mb-3">
                        <label for="">When is the best time to visit <a
                                href="https://www.priceoftravel.com/amsterdam-travel-guide" target="_blank">Ref
                                🌐</a></label>
                        <div id="whenToVisit">
                            <p>Los precios de ___ durante el año (varían / no varian / se mantinene), por lo que es
                                ideal viajar (durante / en / para)</p>
                            <p>Los meses de temporada alta</p>
                            <p>Mientras tanto, la temporada alta</p>
                        </div>
                    </div>
                    <div class="top"></div>
                </div>

                <h4>Other expences</h4>
                <div class="row">
                    <div class="col">
                        <label for="gym">Gym</label>
                        <input id="gym" type="text" class="form-control" placeholder="Gym">
                    </div>
                    <div class="col">
                        <label for="cinema">Cinema</label>
                        <input id="cinema" type="text" class="form-control" placeholder="Movies">
                    </div>
                    <div class="col">
                        <label for="internet">Internet</label>
                        <input id="internet" type="text" class="form-control" placeholder="Internet">
                    </div>
                    <div class="col">
                        <label for="mobile">Mobile</label>
                        <input id="mobile" type="text" class="form-control" placeholder="Mobile 2GB" ">
                    </div>
                </div>

                <h4>Food prices</h4>
                <div class=" row">
                        <div class="col">
                            <label for="regularMeal">Regular Meal</label>
                            <input type="text" name="" class="form-control" id="regularMeal"
                                placeholder="Regular meal price">
                        </div>
                        <div class="col">
                            <label for="McDonalds">McDonalds</label>
                            <input type="text" name="" class="form-control" id="mcdonalds" placeholder="McDonalds">
                        </div>
                        <div class="col">
                            <label for="domesticBeer">Domestic Beer</label>
                            <input type="text" name="" class="form-control" id="domesticBeer"
                                placeholder="Domestic Beer">
                        </div>
                        <div class="col">
                            <label for="cappuccino">Cappuccino</label>
                            <input type="text" name="" class="form-control" id="cappuccino" placeholder="Cappuccino">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="cokePepsi">Coke</label>
                            <input type="text" name="" class="form-control" id="cokePepsi" placeholder="Coke">
                        </div>
                        <div class="col">
                            <label for="water">Water</label>
                            <input type="text" name="" class="form-control" id="water" placeholder="Water">
                        </div>
                        <div class="col">
                            <label for="milk">Milk</label>
                            <input type="text" name="" class="form-control" id="milk" placeholder="Milk">
                        </div>
                        <div class="col">
                            <label for="eggs">Eggs</label>
                            <input type="text" name="" class="form-control" id="eggs" placeholder="Eggs">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="apples">Apples</label>
                            <input type="text" name="" class="form-control" id="apples" placeholder="Apples">
                        </div>
                        <div class="col">
                            <label for="wine">Wine bottle</label>
                            <input type="text" name="" class="form-control" id="wine" placeholder="Wine">
                        </div>
                        <div class="col">
                            <label for="cigarettes">Cigarettes</label>
                            <input type="text" name="" class="form-control" id="cigarettes" placeholder="Cigarettes">
                        </div>
                        <div class="col">
                            <label for="americano">Americano Coffee</label>
                            <input type="text" name="" class="form-control" id="americano"
                                placeholder="Americano Coffee">
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3">
                            <label for="">Description prices of Food <a
                                    href="https://www.priceoftravel.com/amsterdam-travel-guide" target="_blank">Ref
                                    🌐</a></label>
                            <div id="priceFoodDescription">
                                <p>En ___ el precio de la comida puede variar / varia poco</p>
                                <p>Las opciones gastronómicas que ofrece ___ / ___ en una ciudad con muchas alternativas
                                </p>
                            </div>
                        </div>
                        <div class="top"></div>
                    </div>
                    <div class="row">
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Tips to save in food</label>
                            <textarea class="form-control" id="foodTips"
                                rows="3">Si viajas a ____ una forma útil de ahorrar dinero en comido es ____ Con esto / Al hacerlo / Teniéndolo en cuenta, te permitir / tendrás / lograr la entrega </textarea>
                        </div>
                    </div>

                    <h4>Acomodation</h4>
                    <div class="row">
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">General description price of
                                hotels</label>
                            <div class="form-control" id="hotelsDescription"
                                rows="3"> 
                                <p>En ____ el precio de los hoteles ronda los  ____ dependeiendo de </p> 
                                <p>Las opciones más económicas se pueden encontrar en temporada baja, es decir, en los meses de </p>
                            </div>
                        </div>
                        <div class="top"></div>
                    </div>
                    <div class="row">
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Tips to save money on
                                acommodation (100)
                                words)</label>
                            <textarea class="form-control" id="acommodationTips"
                                rows="3">___ ofrece gran cantidad de atractivos tanto para </textarea>
                        </div>
                    </div>

                    <h4>Transport</h4>
                    <div class="row">
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">General description of transport
                                (100)</label>
                            <div class="form-control" id="transportDescription"
                                rows="3"><p>Al ser ___ un destino ____, los locales suelen moverse </p></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Air transport and train stations
                                (100)</label>
                            <textarea class="form-control" id="transportAirports"
                                rows="3">___ tiene conexiones aéreas con ____  </textarea>
                        </div>
                    </div>


                    <h4>Entertainment</h4>
                    <div class="row">

                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Things to do (150 words)</label>
                            <div id="editor">
                                <p>Hello World!</p>
                                <p>Some initial <strong>bold</strong> text</p>
                            </div>
                        </div>

                        <div class="mb-3 top">
                            <label for="exampleFormControlTextarea1" class="form-label">General description of
                                entertainment (100)</label>
                            <textarea class="form-control" id="hotelsDescription"
                                rows="3">En ____, las opciones de entretenimiento son muy variadas, así que ____ </textarea>
                        </div>
                    </div>

                    <div id="generalInput">

                    </div>

                    <div class="row">
                        <h3>Conclusion</h3>
                        <div class="mb-3">
                            <label>Is it expensive (200)</label>
                            <div id="conclusion">
                                <p>___ es una ciudad/destinto con unos precios variables</p>
                            </div>
                        </div>
                        <div class="top"></div>
                    </div>


                    <h3>Comments</h3>
                    <div class="row">
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Comments: Add * to separate a
                                new comment</label>
                            <textarea class="form-control" id="comments"
                                rows="3">___ es un destino que ofrece gran cantidad de atractivos tanto para </textarea>
                        </div>
                    </div>


                    <button id="generate" type="submit" class="btn btn-primary">Submit</button>
            </form>

            <button id="copyCode">
                Copy code
            </button>

            <pre id="code">

            </pre>
        </div>
    </div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

    <script src="/js/currency.js"></script>

    <script>
        const allCurrencies = []
        const articleNode = []

        const allTransportIcons = [
            {
                name: 'drink',
                url: 'assets/img/icons/price/drink.svg'
            },
            {
                name: 'meal',
                url: 'assets/img/icons/price/dinner.svg'
            },
            {
                name: 'train',
                url: 'assets/img/icons/price/train.svg'
            },
            {
                name: 'bus',
                url: 'assets/img/icons/price/bus.svg'
            },
            {
                name: 'taxi',
                url: 'assets/img/icons/price/taxi.svg'
            },
            {
                name: 'subway',
                url: 'assets/img/icons/price/subway.svg'
            },
            {
                name: '1 start',
                url: '/assets/img/icons/1-star.svg'
            },
            {
                name: '2 start',
                url: '/assets/img/icons/2-star.svg'
            },
            {
                name: '3 start',
                url: '/assets/img/icons/3-star.svg'
            },
            {
                name: '4 start',
                url: '/assets/img/icons/4-star.svg'
            },
            {
                name: '5 start',
                url: '/assets/img/icons/5-star.svg'
            }
        ]



        const generateCity = document.getElementById('generateCity');
        const citiesList = document.getElementById('cities');
        let countries = []
        const cities = []
        let currentCity = {}
        const quill = new Quill('#editor', {
            theme: 'snow'
        });

        const foodDescription = new Quill('#priceFoodDescription', {
            theme: 'snow'
        });

        const whenToVisit = new Quill('#whenToVisit', {
            theme: 'snow'
        });

        const generalDescription = new Quill('#generalDescription', {
            theme: 'snow'
        });

        const weather = new Quill('#weather', {
            theme: 'snow'
        });

        const conclusion = new Quill('#conclusion', {
            theme: 'snow'
        });

        const hotelsDescriptionInput = new Quill('#hotelsDescription', {
            theme: 'snow'
        });

        const transportDescriptionInput = new Quill('#transportDescription', {
            theme: 'snow'
        });

        const generate = document.getElementById('generate');
        const code = document.getElementById('code')
        const cityInput = document.getElementById('city');
        const countryInput = document.getElementById('country');
        const currencyInput = document.getElementById('currency');
        const currencyKeyInput = document.getElementById('currencyKey');
        const currenciesSignInput = document.getElementById('currencySign');
        const languagesInput = document.getElementById('languagues')
        const timezoneInput = document.getElementById('timezone')
        const continentInput = document.getElementById('continent')
        const touristInput = document.getElementById('tourist')
        const populationInput = document.getElementById('population')
        const airportsInput = document.getElementById('airports')
        const highSeasonInput = document.getElementById('highSeason')
        //const generalDescriptionInput = document.getElementById('generalDescription')
        const reasonsToVisitInput = document.getElementById('reasonsToVisit')
        const wheatherInput = document.getElementById('wheather')
        const wheateherTipsInput = document.getElementById('wheateherTips')

        const generalMainInput = document.getElementById('generalMain')
        const generalMainWeekInput = document.getElementById('generalMainWeek')
        const budgetMainInput = document.getElementById('budgetMain')
        const budgetMainWeekInput = document.getElementById('budgetMainWeek')
        const luxuryMainInput = document.getElementById('luxuryMain')
        const luxuryMainWeekInput = document.getElementById('luxuryMainWeek')

        const regularMealInput = document.getElementById('regularMeal')
        const mcdonaldsInput = document.getElementById('mcdonalds')
        const domesticBeerInput = document.getElementById('domesticBeer')
        const cappuccinoInput = document.getElementById('cappuccino')
        const cokePepsiInput = document.getElementById('cokePepsi')
        const waterInput = document.getElementById('water')
        const milkInput = document.getElementById('milk')
        const eggsInput = document.getElementById('eggs')
        const applesInput = document.getElementById('apples')
        const wineInput = document.getElementById('wine')
        const cigarettesInput = document.getElementById('cigarettes')
        const americanoInput = document.getElementById('americano')
        const gymInput = document.getElementById('gym')
        const cinemaInput = document.getElementById('cinema')
        const internetInput = document.getElementById('internet')
        const mobileInput = document.getElementById('mobile')
        const thingsToDo = quill.root.innerHTML

        //const transportDescriptionInput = document.getElementById('transportDescription')
        const foodTipsInput = document.getElementById('foodTips')
        const acommodationTipsInput = document.getElementById('acommodationTips')
        const transportAirportsInput = document.getElementById('transportAirports')

        const copyCodePre = document.getElementById('copyCode')

        copyCodePre.onclick = () => {
            const code = document.getElementById('code')
            navigator.clipboard.writeText(code.textContent);

            document.execCommand("copy");
        }

        getCurrency()


        const getAllCities = async () => {
            const response = await fetch('http://localhost:5500/data/price-city.json')
            const data = await response.json();

            data.forEach(city => {
                cities.push(city)
                const cityOption = document.createElement('option');
                cityOption.value = city.city;
                citiesList.appendChild(cityOption);
            })
        }

        getAllCities()
        getCountryInfo()


        generateCity.onclick = (e) => {
            e.preventDefault();
            cities.forEach(city => {
                if (city.city === cityInput.value) {
                    currentCity = city;
                    const country = countries.find(country => country.name.en === currentCity.country)
                    setContryInfo(country)
                    updateCityInfo()
                }
            })
        }

        function updateCityInfo() {
            cityInput.value = currentCity.city;
            countryInput.value = currentCity.country;

            currencyKeyInput.value = currentCity.currencies.key
            currencyInput.value = currentCity.currencies.name
            currenciesSignInput.value = currentCity.currencies.sign
            languagesInput.value = currentCity.languages
            timezoneInput.value = currentCity.timezones
            continentInput.value = currentCity.continent
            mcdonaldsInput.value = currentCity.mcdonalds
            generalMainInput.value = currentCity.prices.general.main.replace('$', '')
            generalMainWeekInput.value = generalMainInput.value * 6
            mcdonaldsInput.value = currentCity.mcdonalds
            regularMealInput.value = currentCity.regular_meal
            domesticBeerInput.value = currentCity.domestic_beer
            cappuccinoInput.value = currentCity.cappuccino
            cokePepsiInput.value = currentCity.coke_pepsi
            waterInput.value = currentCity.water
            milkInput.value = currentCity.milk
            eggsInput.value = currentCity.eggs
            applesInput.value = currentCity.apples
            wineInput.value = currentCity.wine
            cigarettesInput.value = currentCity.cigarettes
            gymInput.value = currentCity.gym
            cinemaInput.value = currentCity.cinema
            internetInput.value = currentCity.internet_domestic
            budgetMainInput.value = currentCity.prices.budget?.main.replace('$', '')
            budgetMainWeekInput.value = budgetMainInput.value != undefined && budgetMainInput.value * 6
            luxuryMainInput.value = currentCity.prices.luxury?.main.replace('$', '')
            luxuryMainWeekInput.value = luxuryMainInput.value != undefined && luxuryMainInput.value * 6


            const generalInput = document.getElementById('generalInput');
            generalInput.innerHTML = '';

            generateInput(currentCity.transportation, 'transport-input')
            generateInput(currentCity.food, 'food-input')
            generateInput(currentCity.entertainment, 'entertainment-input')
            generateInput(currentCity.hotel, 'hotels-input')
            generateInpuByTable(currentCity.food_description, 'foodDescription-input', true)

        }

        async function getCountryInfo() {
            const response = await fetch('http://localhost:5500/data/counrties.json')
            const data = await response.json();
            countries = data;
        }

        function setContryInfo(country) {
            const currencies = {
                sign: country.currencies[0].symbol,
                key: country.currenciesKeys,
                name: country.currencies[0].name
            }
            currentCity.currencies = currencies;
            currentCity.languages = country.languages.join(' ')
            currentCity.timezones = country.timezones.join(' ')
            currentCity.continent = country.continent
        }


        function createInput(name, value) {
            const input = document.createElement('input');
            input.type = 'text';
            input.name = name;
            input.value = value;
            input.className = 'form-control' + ' ' + name;
            input.id = name;
            return input;
        }


        function createSelectInput(name) {
            const select = document.createElement('select');
            select.name = name;
            select.className = 'form-control' + ' ' + name;
            select.id = 'select-' + name;

            allTransportIcons.forEach(el => {
                const option = document.createElement('option');
                option.value = el.url;
                option.innerText = el.name;
                select.appendChild(option);
            })
            return select;
        }

        function createTextarea(name, value) {
            const textarea = document.createElement('textarea');
            textarea.name = name;
            textarea.className = 'form-control' + ' ' + name;
            textarea.id = name;
            textarea.textContent = value;
            return textarea;
        }

        function generateInput(array, name = "") {
            const generalInput = document.getElementById('generalInput');
            const title = document.createElement('h3');
            title.innerText = name;
            generalInput.appendChild(title);
            const row = document.createElement('div');
            row.className = 'row';
            array.forEach(item => {
                const input = createInput(name, item.price);
                const inputTitle = createInput(name + "-title", item.title);
                const div = document.createElement('div');
                div.className = 'form-group-input col' + ' ' + name + '-group'
                div.appendChild(createSelectInput(name));
                div.appendChild(inputTitle);
                div.appendChild(input);
                row.appendChild(div);
            })
            generalInput.appendChild(row);
        }

        function generateInpuByTable(array, name = "", table) {
            const generalInput = document.getElementById('generalInput');
            const title = document.createElement('h3');
            title.innerText = name;
            generalInput.appendChild(title);
            const row = document.createElement('div');
            row.className = 'row';
            array.forEach(item => {
                const input = createInput(name, item.price);
                const inputTitle = createInput(name + "-title", item.title);
                const div = document.createElement('div');
                const description = createTextarea(name + "-description", item.description)
                div.className = 'form-group-input col' + ' ' + name + '-group'
                //div.appendChild(createSelectInput(name));
                div.appendChild(inputTitle);
                div.appendChild(description);
                div.appendChild(input);
                row.appendChild(div);
            })
            generalInput.appendChild(row);
        }

        function getEntretaimentInfo(place, price) {
            const entretaiment = `De acuerdo a los datos recopilados, el precio promedio de ${place} en cuanto a entretenimiento es de ${price}, o unos ${price / 4} al día por persona. Dentro de los gastos estimados están las entradas a las atracciones, tours guiados, bonos y otros cargos. Para más información consulta las oficinas de información turística de ${place}.`
            return entretaiment;
        }

        generate.onclick = (e) => {
            e.preventDefault();
            console.log('click')
            const city = cityInput.value;
            const country = countryInput.value;
            const currency = currencyInput.value;
            const currencyKey = currencyKeyInput.value;
            const currencySign = currenciesSignInput.value;
            const languages = languagesInput.value;
            const timezone = timezoneInput.value;
            const continent = continentInput.value;
            const tourist = touristInput.value;
            const generalMain = generalMainInput.value;
            const generalMainWeek = generalMainWeekInput.value;
            const generalAllPrices = currentCity.prices.general.all;
            const regularMeal = regularMealInput.value;
            const mcdonalds = mcdonaldsInput.value;
            const domesticBeer = domesticBeerInput.value;
            const cappuccino = cappuccinoInput.value;
            const cokePepsi = cokePepsiInput.value;
            const water = waterInput.value;
            const milk = milkInput.value;
            const eggs = eggsInput.value;
            const apples = applesInput.value;
            const wine = wineInput.value;
            const cigarettes = cigarettesInput.value;
            const gym = gymInput.value;
            const cinema = cinemaInput.value;
            const internet = internetInput.value;
            const hotelsDescription = hotelsDescriptionInput.root.innerHTML;
            const americano = americanoInput.value;

            const budgetMain = budgetMainInput.value;
            const budgetMainWeek = budgetMainWeekInput.value;
            const luxuryMain = luxuryMainInput.value;
            const luxuryMainWeek = luxuryMainWeekInput.value;

            const transport = document.querySelectorAll('.transport-input-group')
            const food = document.querySelectorAll('.food-input-group')
            const meals = document.querySelectorAll('.foodDescription-input-group')
            const hotels = document.querySelectorAll('.hotels-input-group')
            const entertainment = document.querySelectorAll('.entertainment-input-group')

            const transportDescription = transportDescriptionInput.root.innerHTML;
            const acommodationTips = acommodationTipsInput.value;


            const foodTips = foodTipsInput.value;

            const transportArray = []
            const foodArray = []
            const mealOfTheDay = []
            const hotelStars = []
            const entertainmentArray = []

            transport.forEach(item => {
                const iconUrl = item.querySelector('#select-transport-input').value;
                const price = item.querySelector('#transport-input').value;
                const title = item.querySelector('.transport-input-title').value;
                //const el = `<p class="card-text">${inputTitle.value} - ${input.value} - ${iconUrl}</p>`
                const el = `                
                    <div class="price-content__item">
                        <div class="price-content__icon-wrapper">
                            <img class="price-content__icon" src="${iconUrl}" alt="${title}">
                        </div>
                        <div class="price-content__info">
                            <p class="price-content__title">
                                ${title}
                            </p>
                            <p class="price-content__price">
                                ${convertPrice(price, 'usd')}
                            </p>
                        </div>
                    </div>`
                transportArray.push(el)
            })

            food.forEach(item => {
                const iconUrl = item.querySelector('#select-food-input').value;
                const price = item.querySelector('#food-input').value;
                const title = item.querySelector('.food-input-title').value;
                const el = `                
                    <div class="price-content__item">
                        <div class="price-content__icon-wrapper">
                            <img class="price-content__icon" src="${iconUrl}" alt="${title}">
                        </div>
                        <div class="price-content__info">
                            <p class="price-content__title">
                                ${title}
                            </p>
                            <p class="price-content__price">
                                ${convertPrice(price, 'usd')}
                            </p>
                        </div>
                    </div>`
                foodArray.push(el)
            })

            meals.forEach(item => {
                const title = item.querySelector('.foodDescription-input-title').value;
                const description = item.querySelector('.foodDescription-input-description').value;
                const price = item.querySelector('.foodDescription-input').value;
                const el = `
                    <tr>
                        <td class="title_td">${title}</td>
                        <td>${description}</td>
                        <td class="price_td">${price}</td>
                    </tr>
                            `
                mealOfTheDay.push(el)
            })

            entertainment.forEach(item => {
                const iconUrl = 'assets/img/icons/price/tickets.svg'
                const price = item.querySelector('#entertainment-input').value;
                const title = item.querySelector('.entertainment-input-title').value;
                const el = `                
                    <div class="price-content__item">
                        <div class="price-content__icon-wrapper">
                            <img class="price-content__icon" src="${iconUrl}" style="margin-right: 10px;" alt="${title}">
                        </div>
                        <div class="price-content__info">
                            <p class="price-content__title">
                                ${title}
                            </p>
                            <p class="price-content__price">
                                ${convertPrice(price, 'usd')}
                            </p>
                        </div>
                    </div>`
                entertainmentArray.push(el)
            })


            hotels.forEach(item => {
                const iconUrl = item.querySelector('#select-hotels-input').value;
                const title = item.querySelector('.hotels-input-title').value;
                const price = item.querySelector('#hotels-input').value;
                const el = `
                    <tr>
                        <td><img src="${ getStars(title) }" class="star-img" /></td>
                        <td>${title}</td>
                        <td class="bold">${convertPrice(price, 'usd', '$')}</td>
                    </tr>
                `
                hotelStars.push(el)
            })


            code.innerText = "<h2>Code</h2>"
            const codeContent = `
                <h2>Introducción</h2>
                ${generalDescription.root.innerHTML}
                <div id="priceSection">
                    <h2>Precios para un viaje a ${city}</h2>
                    <p>A continuación te traemos una lista de precios para ${city} de acuerdo a distintos tipos de viaje.</p>
                    <div class="price-list__wrapper">
                        <div class="price-list">
                            <h4 class="price-list__title">Promedio</h4>
                            <ul class="price-list__list">
                                <li class="price-list__card">
                                    <div class="price-list__img-container">
                                        <img src="assets/img/icons/price/i_ave.svg" alt="precio promedio">
                                    </div>
                                    <p class="price-list__card-info">
                                        <span class="price-list__card-title">Presupuesto diario</span>
                                        <span class="price-list__card-price">${convertPrice(generalMain, 'usd', '$')}</span>
                                        <span class="price-list__card-target">${convertPrice(generalMain, currencyKey, currencySign)} </span>
                                    </p>
                                </li>
                                <li class="price-list__card">
                                    <div class="price-list__img-container">
                                        <img src="assets/img/icons/price/i_ave.svg" alt="precio promedio">
                                    </div>
                                    <p class="price-list__card-info">
                                        <span class="price-list__card-title">Presupuesto viaje de 7 días </span>
                                        <span class="price-list__card-price">${convertPrice(generalMainWeek, 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(generalMainWeek, currencyKey, currencySign)} </span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="price-list">
                            <h4 class="price-list__title">Económico</h4>
                            <ul class="price-list__list">
                                <li class="price-list__card">
                                    <div class="price-list__img-container">
                                        <img src="assets/img/icons/price/i_budget.svg" alt="Precio económico">
                                    </div>
                                    <p class="price-list__card-info">
                                        <span class="price-list__card-title">Presupuesto diario</span>
                                        <span class="price-list__card-price">${convertPrice(budgetMain, 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(budgetMain, currencyKey, currencySign)}</span>
                                    </p>
                                </li>
                                <li class="price-list__card">
                                    <div class="price-list__img-container">
                                        <img src="assets/img/icons/price/i_budget.svg" alt="Precio económico">
                                    </div>
                                    <p class="price-list__card-info">
                                        <span class="price-list__card-title">Presupuesto viaje de 7 días </span>
                                        <span class="price-list__card-price">${convertPrice(budgetMainWeek, 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(budgetMainWeek, currencyKey, currencySign)}</span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="price-list">
                            <h4 class="price-list__title">Lujo</h4>
                            <ul class="price-list__list">
                                <li class="price-list__card">
                                    <div class="price-list__img-container">
                                        <img src="assets/img/icons/price/i_lux.svg" alt="Precio de lujo">
                                    </div>
                                    <p class="price-list__card-info">
                                        <span class="price-list__card-title">Presupuesto diario</span>
                                        <span class="price-list__card-price">${convertPrice(luxuryMain, 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(luxuryMain, currencyKey, currencySign)}</span>
                                    </p>
                                </li>
                                <li class="price-list__card">
                                    <div class="price-list__img-container">
                                        <img src="assets/img/icons/price/i_lux.svg" alt="Precio de lujo">
                                    </div>
                                    <p class="price-list__card-info">
                                        <span class="price-list__card-title">Presupuesto viaje de 7 días </span>
                                        <span class="price-list__card-price">${convertPrice(luxuryMainWeek, 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(luxuryMainWeek, currencyKey, currencySign)}</span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>   
                <div class="flex wrap space-between">
                <div class="ml-6">
                    ${whenToVisit.root.innerHTML}
                </div>
                <div class="table-wrap">
                    <table class="table-styled">
                        <tbody>
                            <tr>
                                <td class="title_td">Moneda</td>
                                <td>´${currency}´ ${currencySign}</td>
                            </tr>
                            <tr>
                                <td class="title_td">Conversión por USD</td>
                                <td>${convertPrice(1, currencyKey, currencySign)} x 1 USD</td>
                            </tr>
                            <tr>
                                <td class="title_td">Temporada baja</td>
                                <td>Septiembre a octubre</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div> 

            <h3>Precio de alimentos de ${city}</h3>
            <p>Precios promedio en alimentos básicos y bebidas. Aclaración: los costos pueden cambiar de acuerdo al establecimiento y a la zona.</p>

            <div class="price-content">
                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/coffee.svg" alt="Cafe americano">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Cafe americano
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(americano, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/bottle-water.svg" alt="Botella de agua">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Botella de agua
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(water, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/dinner.svg" alt="Cena">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Cena
                        </p>
                        <p class="price-content__price">
                           ${convertPrice(regularMeal, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/coffee.svg" alt="Cafe americano">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Capucchino
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(cappuccino, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/coffee.svg" alt="Cafe americano">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Coca-Cola (550 ml)
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(cokePepsi, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/coffee.svg" alt="Cafe americano">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Coca-Cola (550 ml)
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(cokePepsi, 'usd')}
                        </p>
                    </div>
                </div>


                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/apple.svg" alt="Manzanas">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Manzanas (1kg)
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(apples, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/milk.svg" alt="Manzanas">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Leche (1lt)
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(milk, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/mcdonalds-burger.svg" alt="McDonalds">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Comida de McDonalds
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(mcdonalds, 'usd')}
                        </p>
                    </div>
                </div>
            </div>

            ${foodDescription.root.innerHTML}

            <h4 class="bold">Precio de alcohol y cigarrillos</h4>

            <p>Precio promedio de bebidas alcoholicas y tabaco en ${city}</p>

            <div class="price-content">
                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/beer.svg" alt="Cerveza">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Cerveza
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(domesticBeer, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/wine.svg" alt="Cerveza">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Vino
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(wine, 'usd')}
                        </p>
                    </div>
                </div>

                <div class="price-content__item">
                    <div class="price-content__icon-wrapper">
                        <img class="price-content__icon" src="assets/img/icons/price/cigarrates.svg" alt="Cerveza">
                    </div>
                    <div class="price-content__info">
                        <p class="price-content__title">
                            Cajetilla de cigarrillos (20 u)
                        </p>
                        <p class="price-content__price">
                            ${convertPrice(cigarettes, 'usd')}
                        </p>
                    </div>
                </div>
            </div>

            <h4 class="bold">Alimentos típicos</h4>
            <p>Comodas, platillos y bebidas típicas de ${city}</p>

            <div class="price-content">
                ${
                    foodArray.map(item => {
                        return item
                    }).join('')
                }
            </div>


            <p> </p>

            <div class="table-wrap">
                <table class="table-styled">
                    <tbody>
                        ${mealOfTheDay.map(item => {
                    return item
                }).join('')
                }
                    </tbody>
                </table>
            </div>

            <div class="tip-box">
                <div class="tip-box__logo">
                    <img src="assets/img/icons/idea.svg" alt="" srcset="">
                </div>
                <div class="tip-box__description">
                    <h3 class="tip_box__title">Consejos para ahorrar en comida</h3>
                    ${foodTips}
                </div>
            </div>

            <h4 class="price-title-tag">GASTO DIARIO POR ALIMENTOS</h4>
            <div class="price-list__wrapper">
                <div class="price-list">
                    <h4 class="price-list__title">Económico</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_budget.svg" alt="Precio económico">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(budgetMain / 3) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(budgetMain / 3) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Promedio</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_ave.svg" alt="precio promedio">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(generalMain / 3) + '', 'usd', '$')}</span>
                                <span class="price-list__card-target">${convertPrice(Math.round(generalMain / 3) + '', currencyKey, currencySign)} </span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Lujo</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_lux.svg" alt="Precio de lujo">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(luxuryMain / 3) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(luxuryMain / 3) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>

            <h3>Presupuesto de hospedaje en ${city}</h3>

            <div class="hotel-info__container">

                <div class="hotel-info__left-container">

                    <div class="circle-img">
                        <img src="https://lp-cms-production.imgix.net/2021-03/GettyImages-564651171.jpg?auto=format&fit=crop&q=40&w=520&h=785&dpr=2"
                            alt="">
                    </div>
                </div>

                <div class="stars-container">
                    <h3 class="price-hotels__title">
                        Precio de hoteles en ${city}
                    </h3>
                    <p>Precio promedio de alojamiento por noche de acuerdo a la categoría del hotel</p>
                    <div class="table-wrap small">
                        <table class="table-styled">
                            <tbody>
                                ${
                                    hotelStars.map(item => {
                                        return item
                                    }).join('')
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            ${hotelsDescription}

            <div class="tip-box">
                <div class="tip-box__logo">
                    <img src="assets/img/icons/idea.svg" alt="" srcset="">
                </div>
                <div class="tip-box__description">
                    <h3 class="tip_box__title">Consejos para ahorrar en hospedaje</h3>
                    ${acommodationTips}
                </div>
            </div>

            <h4 class="price-title-tag">GASTO DIARIO de Hospedaje por tipo de viaje</h4>
            <div class="price-list__wrapper">
                <div class="price-list">
                    <h4 class="price-list__title">Económico</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_budget.svg" alt="Precio económico">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(budgetMain / 2) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(budgetMain / 2) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Promedio</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_ave.svg" alt="precio promedio">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(generalMain / 2) + '', 'usd', '$')}</span>
                                <span class="price-list__card-target">${convertPrice(Math.round(generalMain / 2) + '', currencyKey, currencySign)} </span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Lujo</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_lux.svg" alt="Precio de lujo">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(luxuryMain / 2) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(luxuryMain / 2) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>

            <h3>Presupuesto de transporte</h3>
            <p>Gasto promedio en transporte en ${city}</p>

            <p></p>

            <div class="price-content">
                ${
                transportArray.map(item => {
                        return item
                    }).join('')
                }
            </div>
            
            ${transportDescription}

            <h4 class="price-title-tag">Gasto diario en transporte</h4>
            <div class="price-list__wrapper">
                <div class="price-list">
                    <h4 class="price-list__title">Económico</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_budget.svg" alt="Precio económico">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(budgetMain / 3.5) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(budgetMain / 3.5) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Promedio</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_ave.svg" alt="precio promedio">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(generalMain / 4) + '', 'usd', '$')}</span>
                                <span class="price-list__card-target">${convertPrice(Math.round(generalMain / 4) + '', currencyKey, currencySign)} </span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Lujo</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_lux.svg" alt="Precio de lujo">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(luxuryMain / 5) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(luxuryMain / 5) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>

            <h3>Precio de actividades y entretenimiento</h3>

            <div class="price-content">
                ${
                    entertainmentArray.map(item => {
                        return item
                    }).join('')
                }
            </div>

            ${thingsToDo}

            <h4 class="price-title-tag">Gasto diario en atracciones y entretenimiento</h4>
            <div class="price-list__wrapper">
                <div class="price-list">
                    <h4 class="price-list__title">Económico</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_budget.svg" alt="Precio económico">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(budgetMain / 4) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(budgetMain / 4) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Promedio</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_ave.svg" alt="precio promedio">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(generalMain / 3) + '', 'usd', '$')}</span>
                                <span class="price-list__card-target">${convertPrice(Math.round(generalMain / 3) + '', currencyKey, currencySign)} </span>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="price-list">
                    <h4 class="price-list__title">Lujo</h4>
                    <ul class="price-list__list">
                        <li class="price-list__card">
                            <div class="price-list__img-container">
                                <img src="assets/img/icons/price/i_lux.svg" alt="Precio de lujo">
                            </div>
                            <p class="price-list__card-info">
                                <span class="price-list__card-title">Presupuesto diario</span>
                                <span class="price-list__card-price">${convertPrice(Math.round(luxuryMain / 5) + '', 'usd')}</span>
                                        <span class="price-list__card-target">${convertPrice(Math.round(luxuryMain / 5) + '', currencyKey, currencySign)}</span>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>

            <h2>Descripción general de los precios</h2>
            ${conclusion.root.innerHTML}

            `
            code.textContent = codeContent.replace('<p></p>', '')

        }

        function getStars(stars) {
            let starsData = {
                'star-1': '/assets/img/icons/1-star.svg',
                'star-2': '/assets/img/icons/2-star.svg',
                'star-3': '/assets/img/icons/3-star.svg',
                'star-4': '/assets/img/icons/4-star.svg',
                'star-5': '/assets/img/icons/5-star.svg',
            }
            //srarsData["star-1"] = '/assets/img/icons/1-star.svg',
            return starsData[stars]
        }

        async function getCurrency() {
            const currenciesMap = await getCurrencies()
            currenciesMap.forEach(item =>
                allCurrencies.push(item)
            )
        }

        function convertPrice(price, curr, sign) {
            if (curr == 'usd') {
                return `$${price.replace('$', '').trim()} USD`
            }

            const currency = curr.toLowerCase()
            const currencyForex = allCurrencies.find(item => item.code === currency)

            if (currencyForex == undefined || currencyForex == null) {
                return `$${price} USD`
            }

            const rate = Math.round((price * currencyForex.rate * 10) / 10)

            if (currency === 'eur') {
                return `${rate}€`
            }
            else {
                return `${sign}${price} ${currency.toUpperCase()}`
            }
        }

    </script>
</body>

</html>